import{d as v,r as h,u as L,a as V,b as k,i as u,e as t,o as C,c as R,f as p,g as o,t as m,w as s,L as K,h as f,j as B,k as _,l as D,m as E,E as M,_ as N}from"./index-0dc2954e.js";const U={class:"container"},q={class:"content"},I={class:"title"},S=v({__name:"index",setup(T){const r=h(null),g=L(),w=V(),e=k({form:{account:"admin",password:"123456"},formRules:{account:[{required:!0,trigger:"blur",message:u.global.t("pages.login.accountRuleMessage")}],password:[{required:!0,trigger:"blur",message:u.global.t("pages.login.passwordRuleMessage")}]},btnLoading:!1}),l=()=>{r.value.validate(async n=>{if(n)try{e.btnLoading=!0,await g.loginInit({account:e.form.account,password:e.form.password}),w.push("/")}catch(a){M({type:"error",message:a.message||"登录失败"})}finally{e.btnLoading=!1}})},b=()=>{r.value.resetFields()};return(n,a)=>{const i=t("el-input"),d=t("el-form-item"),y=t("el-button"),x=t("el-form");return C(),R("div",U,[p("div",q,[o(K,{class:"langDropdown",onLangChange:b}),p("div",I,m(n.$t("pages.login.title")),1),o(x,{"status-icon":!0,model:e.form,rules:e.formRules,ref_key:"formRef",ref:r,class:"form"},{default:s(()=>[o(d,{prop:"account"},{default:s(()=>[o(i,{modelValue:e.form.account,"onUpdate:modelValue":a[0]||(a[0]=c=>e.form.account=c),clearable:"","prefix-icon":f(B),onKeydown:_(l,["enter"])},null,8,["modelValue","prefix-icon","onKeydown"])]),_:1}),o(d,{prop:"password"},{default:s(()=>[o(i,{modelValue:e.form.password,"onUpdate:modelValue":a[1]||(a[1]=c=>e.form.password=c),type:"password",clearable:"","show-password":"","prefix-icon":f(D),onKeydown:_(l,["enter"])},null,8,["modelValue","prefix-icon","onKeydown"])]),_:1}),o(d,null,{default:s(()=>[o(y,{loading:e.btnLoading,type:"primary",class:"btn",onClick:l},{default:s(()=>[E(m(n.$t("pages.login.btnText")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}});const j=N(S,[["__scopeId","data-v-0eab24a3"]]);export{j as default};
